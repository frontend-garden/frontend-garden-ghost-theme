{{!< default}}

<main class="site__content article">
    <div class="section background-alternate print-padding-none">
        <div class="container">

            {{#tag}}
                <h1 class="article__title js-nbsp">{{name}}</h1>

                {{#if description}}
                    <p class="article__summary spacing-bottom-small js-nbsp">
                        {{description}}
                    </p>
                {{/if}}

                <ul class="list-unstyled list-inline spacing-bottom-none print-hidden">
                    <li>
                        <a href="#wordpress" class="label">Wordpress</a>
                    </li>
                    <li>
                        <a href="#php" class="label">PHP</a>
                    </li>
                    <li>
                        <a href="#css3" class="label">CSS3</a>
                    </li>
                    <li>
                        <a href="#laravel" class="label">Laravel</a>
                    </li>
                    <li>
                        <a href="#mysql" class="label">MySQL</a>
                    </li>
                    <li>
                        <a href="#vue" class="label">Vue</a>
                    </li>
                    <li>
                        <a href="#no-code" class="label">No Code</a>
                    </li>
                    <!-- Adicione outros filtros conforme necessário -->
                </ul>
            {{/tag}}

        </div>
    </div>
    <div class="section section--roomy-bottom print-padding-none">
        <div class="container">
            <div class="columns columns--4">

                {{!
                    Loop through the original `posts` and group them.
                    Pagination of `posts` is made impossible in `routes.yaml`.
                }}
                {{#get "posts"
                    filter="tag:projetos"
                    include="authors,tags"
                    order="published_at ASC"
                    limit="4"
                    as |projects|
                }}
                    {{#each projects}}
                        <div class="project-info">
                            <h2>{{title}}</h2>
                            <ul class="list-unstyled list-inline spacing-bottom-none print-hidden">
                                {{#foreach tags}}
                                    {{#if @last}}
                                        <li><a href="{{url}}" class="label">{{name}}</a></li>
                                    {{/if}}
                                {{/foreach}}
                            </ul>
                            {{#if custom_excerpt}}
                                <p>{{custom_excerpt}}</p>
                            {{else}}
                                <p>{{excerpt words="30"}}</p>
                            {{/if}}
                            <a href="https://{{name}}" class="visit-website-link">Visitar Website</a>
                        </div>
                    {{/each}}
                {{/get}}

            </div>
        </div>
    </div>

    {{#get "posts"
        filter="primary_tag:artigo"
        include="authors,tags"
        order="published_at DESC"
        limit="3"
        as |recent|
    }}
        {{#if recent}}
            {{> "related-posts" posts=recent}}
        {{/if}}
    {{/get}}

</main>

{{> "footer"}}

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const filterLinks = document.querySelectorAll('.list-unstyled a.label');

        filterLinks.forEach(function(link) {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                const filter = link.textContent.toLowerCase(); // Obtém o texto do filtro
                filterProjects(filter);
            });
        });

        function filterProjects(filter) {
            const projectInfos = document.querySelectorAll('.project-info');
            projectInfos.forEach(function(projectInfo) {
                const tags = projectInfo.querySelector('.list-unstyled a.label').textContent.toLowerCase(); // Obtém a tag do projeto
                if (tags === filter) {
                    projectInfo.style.display = 'block';
                } else {
                    projectInfo.style.display = 'none';
                }
            });
        }
    });
</script>

<style>
    .project-info {
        cursor: pointer;
    }
</style>
